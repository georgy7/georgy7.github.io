# Скрыть юзернейм и&nbsp;хостнейм&nbsp;в&nbsp;баше

Так называемый command prompt определяется переменной PS1.
Чтобы скрыть имя пользователя и&nbsp;хост, но&nbsp;оставить текущее местоположение,
можно указать такой формат:

    PS1="\\w \$ "

Например, эта переменная определяется в&nbsp;~/.bashrc.
Там её можно и&nbsp;переопределить ближе к&nbsp;концу файла.

Пример вывода:

```
~ $
~ $
~ $ cd folder/
~/folder $
~/folder $ cd anotherFolder
~/folder/anotherFolder $
```

Это нужно перед тем как делать скриншоты
и&nbsp;скринкасты для документации.
Иначе шумно.

Чтобы без лишних настроек получить чистое окно консоли,
можно просто

    PS1="\\w \$ ";clear



# Подготовиться к&nbsp;моменту, когда свободное место на&nbsp;диске будет исчерпано

    sudo apt-get install ncdu

На всех серверах сразу после установки системы.

Когда это случится, шаг&nbsp;1:

    df -h

Чтобы понять, какие разделы переполнены.

Шаг&nbsp;2: зайти в&nbsp;нужный раздел и&nbsp;запустить ncdu.
Эта программа рекурсивно сканирует текущую директорию,
и&nbsp;дальше можно всё смотреть без задержек.

Навигация как в&nbsp;mc, выход&nbsp;— кнопка&nbsp;q.



# Добавить подсветку синтаксиса в&nbsp;less в Ubuntu

**Внимание!** Это замедлит утилиту less.
При открывании больших файлов могут быть существенные задержки.

    sudo apt install source-highlight

Затем в `$HOME/.bashrc` добавить

```
export LESSOPEN="| /usr/share/source-highlight/src-hilite-lesspipe.sh %s"
export LESS=' -R -N'
```

Опция `-N` необязательна. Она добавляет номера строк.



# Шпаргалка по nano

Чтобы видеть номер текущей строки при редактировании:

    nano -c file.txt

Комбинации клавиш:

* Вырезать строку&nbsp;— CTRL+K.
* Вставить строку&nbsp;— CTRL-U.
* Undo&nbsp;— ALT-U или Esc-U (под M в справке подразумевается [клавиша meta](https://en.wikipedia.org/wiki/Meta_key)).
* Redo&nbsp;— ALT-E или Esc+E.



# Просканировать диапазон портов, игнорируя пинг

В данном случае сканируются порты с 1 до 100.

    nmap -p 1-100 -Pn 192.168.1.1

