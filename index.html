<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Заметки</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="simple.css" type="text/css" />
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#скрыть-юзернейм-ихостнеймвбаше">Скрыть юзернейм и хостнейм в баше</a></li>
<li><a href="#подготовиться-кмоменту-когда-свободное-место-надиске-будет-исчерпано">Подготовиться к моменту, когда свободное место на диске будет исчерпано</a></li>
<li><a href="#добавить-подсветку-синтаксиса-вless-в-ubuntu">Добавить подсветку синтаксиса в less в Ubuntu</a></li>
</ul>
</div>
<h1 id="скрыть-юзернейм-ихостнеймвбаше">Скрыть юзернейм и хостнейм в баше</h1>
<p>Так называемый command prompt определяется переменной PS1. Чтобы скрыть имя пользователя и хост, но оставить текущее местоположение, можно указать такой формат:</p>
<pre><code>PS1=&quot;\\w \$ &quot;</code></pre>
<p>Например, эта переменная определяется в ~/.bashrc. Там её можно и переопределить ближе к концу файла.</p>
<p>Пример вывода:</p>
<pre><code>~ $
~ $
~ $ cd folder/
~/folder $
~/folder $ cd anotherFolder
~/folder/anotherFolder $</code></pre>
<p>Это нужно перед тем как делать скриншоты и скринкасты для документации. Иначе шумно.</p>
<p>Чтобы без лишних настроек получить чистое окно консоли, можно просто</p>
<pre><code>PS1=&quot;\\w \$ &quot;;clear</code></pre>
<h1 id="подготовиться-кмоменту-когда-свободное-место-надиске-будет-исчерпано">Подготовиться к моменту, когда свободное место на диске будет исчерпано</h1>
<pre><code>sudo apt-get install ncdu</code></pre>
<p>На всех серверах сразу после установки системы.</p>
<p>Когда это случится, шаг 1:</p>
<pre><code>df -h</code></pre>
<p>Чтобы понять, какие разделы переполнены.</p>
<p>Шаг 2: зайти в нужный раздел и запустить ncdu. Эта программа рекурсивно сканирует текущую директорию, и дальше можно всё смотреть без задержек.</p>
<p>Навигация как в mc, выход — кнопка q.</p>
<h1 id="добавить-подсветку-синтаксиса-вless-в-ubuntu">Добавить подсветку синтаксиса в less в Ubuntu</h1>
<pre><code>sudo apt install source-highlight</code></pre>
<p>Затем в <code>$HOME/.bashrc</code> добавить</p>
<pre><code>export LESSOPEN=&quot;| /usr/share/source-highlight/src-hilite-lesspipe.sh %s&quot;
export LESS=&#39; -R -N&#39;</code></pre>
<p>Опция <code>-N</code> необязательна. Она добавляет номера строк.</p>
<p>Вот и всё. После перелогинивания команда less будет с подсветкой синтаксиса.</p>
</body>
</html>
